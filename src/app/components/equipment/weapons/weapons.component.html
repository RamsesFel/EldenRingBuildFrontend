<input type="text" [(ngModel)]="formWeapon" placeholder="Search Weapon By Name">
<button (click)="getWeaponByName()">Search</button>
<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Category</th>
        <th>Attack</th>
        <th>Defence</th>
        <th>Scaling</th>
        <th>Required Attributes</th>
        <th>Image</th>
        <th></th>
    </tr>
    @if (currentWeapons.length) {
        @for (weapon of currentWeapons; track $index) {
            @for (w of weapon.data; track $index) {
            <tr>
                <td>{{w.name}}</td>
                <td>{{w.description}}</td>
                <td>{{w.category}}</td>
                <td>@for (a of w.attack; track $index) {
                    {{a.name}} {{a.amount}}
                }</td>
                <td>@for (d of w.defence; track $index) {
                    {{d.name}} {{d.amount}}
                }</td>
                <td>@for (s of w.scalesWith; track $index) {
                    {{s.name}} {{s.scaling}}
                }</td>
                <td>@for (r of w.requiredAttributes; track $index) {
                    {{r.name}} {{r.amount}}
                }</td>
                <td><img height="100px" src="{{w.image}}"></td>
                <td><button (click)="addWeapon(w.id)">Add</button></td>
            </tr>
        }
        }
    }@else {
    @for (weapon of weaponList; track $index) {
        @for (w of weapon.data; track $index) {
            <tr>
                <td>{{w.name}}</td>
                <td>{{w.description}}</td>
                <td>{{w.category}}</td>
                <td>@for (a of w.attack; track $index) {
                    {{a.name}} {{a.amount}}
                }</td>
                <td>@for (d of w.defence; track $index) {
                    {{d.name}} {{d.amount}}
                }</td>
                <td>@for (s of w.scalesWith; track $index) {
                    {{s.name}} {{s.scaling}}
                }</td>
                <td>@for (r of w.requiredAttributes; track $index) {
                    {{r.name}} {{r.amount}}
                }</td>
                <td><img height="100px" src="{{w.image}}"></td>
                <td><button (click)="addWeapon(w.id)">Add</button></td>
            </tr>
        }
    }
}
</table>

